{
  "name": "pantheon-systems/terminus",
  "description": "A command line interface for Pantheon",
  "keywords": [
    "cli",
    "pantheon",
    "terminus",
    "drupal",
    "wordpress"
  ],
  "homepage": "https://pantheon.io",
  "license": "MIT",
  "minimum-stability": "stable",
  "prefer-stable": true,
  "require": {
    "php": ">=7.3",
    "ext-json": "*",
    "composer/composer": "^2",
    "composer/semver": "^3",
    "consolidation/comments": "^1.0.2",
    "consolidation/filter-via-dot-access-data": "^2.0",
    "consolidation/output-formatters": "^4",
    "consolidation/robo": "^3",
    "consolidation/site-alias": "^3.1",
    "czproject/git-php": "^4.0",
    "guzzlehttp/guzzle": "^7.0",
    "justinrainbow/json-schema": "^5.2",
    "monolog/monolog": "^2.2",
    "rogervila/array-diff-multidimensional": "^2.0",
    "symfony/console": "^5",
    "symfony/finder": "^5",
    "symfony/process": "^5",
    "symfony/yaml": "^5",
    "tm/tooly-composer-script": "^1.4",
    "twig/twig": "^3.3"
  },
  "require-dev": {
    "ext-pcov": "*",
    "behat/behat": "^3.2.2",
    "erusev/parsedown": "^1.7",
    "kint-php/kint": "^3.3",
    "pcov/clobber": "^2.0",
    "php-coveralls/php-coveralls": "^2.4",
    "php-vcr/php-vcr": "^1.4",
    "phpunit/php-code-coverage": "^9.2",
    "phpunit/phpcov": "^8.2",
    "phpunit/phpunit": "^9",
    "psy/psysh": "^0.10.8",
    "squizlabs/php_codesniffer": "^3.5",
    "wdalmut/php-deb-packager": "^0.0.14"
  },
  "conflict": {
    "drupal/core": "*",
    "pantheon-systems/wordpress-composer": "*"
  },
  "autoload": {
    "psr-4": {
      "Pantheon\\Terminus\\": "src/",
      "Pantheon\\Terminus\\Tests\\": "tests/"
    }
  },
  "autoload-dev": {
    "psr-4": {
      "Pantheon\\Terminus\\Tests\\Functional\\": "tests/Functional/",
      "Pantheon\\Terminus\\UnitTests\\": "tests/unit_tests/",
      "Pantheon\\Terminus\\FeatureTests\\": "tests/features/bootstrap/"
    },
    "classmap": [
      "scripts/UpdateClassLists.php"
    ]
  },
  "bin": [
    "bin/t3"
  ],
  "scripts": {
    "build": "@phar:build",
    "test": "@test:functional",
    "phar:install-tools": [
      "gem install mime-types -v 2.6.2",
      "curl -LSs https://box-project.github.io/box2/installer.php | php",
      "mkdir -p tools",
      "mv -f box.phar tools/box"
    ],
    "phar:build": [
      "rm -Rf ./t3",
      "vendor/bin/phar-composer.phar build .",
      "mv terminus.phar t3",
      "chmod +x t3"
    ],
    "phar:install": [
      "rm -rf /usr/local/bin/t3 || true",
      "mv ./t3 /usr/local/bin/t3"
    ],
    "phar:compat": [
      "ln -s /usr/local/bin/t3 /usr/local/bin/terminus"
    ],
    "phar:update": [
      "@phar:build",
      "@phar:install"
    ],
    "bundle:macos": [
      "vendor/bin/robo bundle:mac"
    ],
    "bundle:linux": [
      "vendor/bin/robo bundle:linux"
    ],
    "update-class-lists": [
      "\\Terminus\\UpdateClassLists::update"
    ],
    "code:fix": [
      "phpcbf --standard=tests/config/linting_ruleset.xml bin/t3 src/* tests/Functional"
    ],
    "code:lint": [
      "@cs"
    ],
    "code:new-command": [
      "rm -Rf ~/.terminus/cache/commands || true",
      "@update-class-lists",
      "bin/t3 self:clear-cache"
    ],
    "code:setup-precommit": [
      "bash scripts/setup-precommit.sh"
    ],
    "test:behat": [
      "SHELL_INTERACTIVE=true TERMINUS_TEST_MODE=1 behat --colors --config tests/config/behat.yml --stop-on-failure --suite=default"
    ],
    "test:short": [
      "XDEBUG_MODE=coverage vendor/bin/phpunit --colors=always -c ./phpunit.xml --debug --group=short --do-not-cache-result --verbose",
      "@coverage"
    ],
    "test:long": [
      "XDEBUG_MODE=coverage vendor/bin/phpunit --colors=always -c ./phpunit.xml --debug --group=long --do-not-cache-result --verbose",
      "@coverage"
    ],
    "test:functional": [
      "XDEBUG_MODE=coverage vendor/bin/phpunit --colors=always -c ./phpunit.xml --debug --do-not-cache-result",
      "@coverage"
    ],
    "test:all": [
      "@test:functional",
      "@test:behat"
    ],
    "coverage": [
      "vendor/bin/robo coverage ./docs/TestCoverage.md"
    ],
    "cs": [
      "vendor/bin/phpcs --standard=tests/config/linting_ruleset.xml bin/t3 src tests/Functional"
    ],
    "phpunit": [
      "SHELL_INTERACTIVE=true phpunit --colors=always  -c tests/config/phpunit.xml.dist --debug"
    ],
    "docs": [
      "vendor/bin/robo doc ./README.md",
      "git add README.md"
    ],
    "post-install-cmd": [
      "Tooly\\ScriptHandler::installPharTools"
    ],
    "post-update-cmd": [
      "Tooly\\ScriptHandler::installPharTools"
    ],
    "pre-commit": [
      "@code:fix",
      "@code:lint",
      "composer validate --strict"
    ]
  },
  "config": {
    "process-timeout": 0,
    "optimize-autoloader": true,
    "preferred-install": "dist",
    "sort-packages": true,
    "platform": {
      "php": "7.4"
    }
  },
  "extra": {
    "kint": {
      "disable-helpers": true,
      "depth-limit": 3
    },
    "tools": {
      "phar-composer": {
        "url": "https://clue.engineering/phar-composer-latest.phar",
        "dev-only": true
      }
    }
  }
}
